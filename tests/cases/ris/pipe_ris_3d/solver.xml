<?xml version="1.0" encoding="UTF-8" ?>
<svMultiPhysicsFile version="0.1">

<GeneralSimulationParameters>

  <Continue_previous_simulation> true </Continue_previous_simulation>
  <Number_of_spatial_dimensions> 3 </Number_of_spatial_dimensions> 
  <Number_of_time_steps> 5 </Number_of_time_steps> 
  <Time_step_size> 0.001 </Time_step_size> 
  <Spectral_radius_of_infinite_time_step> 0.50 </Spectral_radius_of_infinite_time_step> 
  <Searched_file_name_to_trigger_stop> STOP_SIM </Searched_file_name_to_trigger_stop> 

  <Save_results_to_VTK_format> 1 </Save_results_to_VTK_format> 
  <Name_prefix_of_saved_VTK_files> result </Name_prefix_of_saved_VTK_files> 
  <Increment_in_saving_VTK_files> 5 </Increment_in_saving_VTK_files> 
  <Start_saving_after_time_step> 1 </Start_saving_after_time_step> 

  <Increment_in_saving_restart_files> 10 </Increment_in_saving_restart_files> 
  <Convert_BIN_to_VTK_format> 0 </Convert_BIN_to_VTK_format> 

  <Verbose> 1 </Verbose> 
  <Warning> 0 </Warning> 
  <Debug> 1 </Debug> 

</GeneralSimulationParameters>


<Add_mesh name="msh" > 
  <Mesh_file_path> mesh/1-mesh-complete/mesh-complete.mesh.vtu </Mesh_file_path>
  <Add_face name="left_inlet">
      <Face_file_path> mesh/1-mesh-complete/mesh-surfaces/noname_3.vtp </Face_file_path>
  </Add_face>
  <Add_face name="left_ris">
      <Face_file_path> mesh/1-mesh-complete/mesh-surfaces/noname_2.vtp </Face_file_path>
  </Add_face>
  <Add_face name="left_wall">
      <Face_file_path> mesh/1-mesh-complete/mesh-surfaces/noname_1.vtp </Face_file_path>
  </Add_face>
  <Domain> 0 </Domain>
</Add_mesh>

<Add_mesh name="msh2" > 
  <Mesh_file_path> mesh/2-mesh-complete/mesh-complete.mesh.vtu </Mesh_file_path>
  <Add_face name="right_ris">
      <Face_file_path> mesh/2-mesh-complete/mesh-surfaces/noname_1.vtp </Face_file_path>
  </Add_face>
  <Add_face name="right_outlet">
      <Face_file_path> mesh/2-mesh-complete/mesh-surfaces/noname_3.vtp </Face_file_path>
  </Add_face>
  <Add_face name="right_wall">
      <Face_file_path> mesh/2-mesh-complete/mesh-surfaces/noname_2.vtp </Face_file_path>
  </Add_face>
  <Domain> 1 </Domain>
</Add_mesh>


<!-- RIS section -->
<Add_RIS_projection name="left_ris" >
  <Project_from_face> right_ris </Project_from_face>
  <Resistance> 1.e6 </Resistance>
  <Projection_tolerance> 1.e-8 </Projection_tolerance>
</Add_RIS_projection>


<Add_equation type="FSI" > 
  <Coupled> true </Coupled>
  <Min_iterations> 3 </Min_iterations>  
  <Max_iterations> 10 </Max_iterations> 
  <Tolerance> 1e-3 </Tolerance> 

  <Domain id="0" >
    <Equation> fluid </Equation> 
    <Density> 1.06 </Density> 
    <Viscosity model="Constant" >
       <Value> 0.035 </Value>
    </Viscosity>
    <Backflow_stabilization_coefficient> 1. </Backflow_stabilization_coefficient> 
  </Domain>

  <Domain id="1" >
    <Equation> fluid </Equation> 
    <Density> 1.06 </Density> 
    <Viscosity model="Constant" >
       <Value> 0.035 </Value>
    </Viscosity>
    <Backflow_stabilization_coefficient> 1. </Backflow_stabilization_coefficient> 
  </Domain>

  <Output type="Spatial" >
   <Velocity> true </Velocity>
   <Pressure> true </Pressure>
   <Traction> true </Traction>
   <WSS> true </WSS>
  </Output>

  <Output type="Volume_integral" >
   <Pressure> true </Pressure>
  </Output>

  <Output type="Boundary_integral" >
   <Velocity> true </Velocity>
   <Pressure> true </Pressure>
  </Output>

  <LS type="GMRES" >
    <Linear_algebra type="fsils" >
         <Preconditioner> fsils </Preconditioner>
    </Linear_algebra>
    <Tolerance> 1e-3 </Tolerance>
    <Max_iterations> 30 </Max_iterations> 
    <Krylov_space_dimension> 50 </Krylov_space_dimension>
  </LS>

  <Add_BC name="left_inlet" > 
    <Type> Neu </Type> 
    <Time_dependence> Unsteady </Time_dependence>
    <Temporal_values_file_path> inlet.dat </Temporal_values_file_path>
    <Profile> Flat </Profile> 
    <Impose_flux> true </Impose_flux>
  </Add_BC> 

  <Add_BC name="right_outlet" > 
    <Type> Neu </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Impose_flux> true </Impose_flux>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="left_wall" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="right_wall" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

</Add_equation>


<Add_equation type="mesh" >
   <Coupled> true </Coupled>
   <Min_iterations> 1 </Min_iterations>
   <Max_iterations> 5 </Max_iterations>
   <Tolerance> 1e-6 </Tolerance>
   <Poisson_ratio> 0. </Poisson_ratio> 

   <LS type="CG" >
      <Linear_algebra type="fsils" >
         <Preconditioner> fsils </Preconditioner>
      </Linear_algebra>
      <Tolerance> 1e-4 </Tolerance>
   </LS>

  <Output type="Spatial" >
    <Displacement> true </Displacement>
  </Output>

  <Add_BC name="left_inlet" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="left_wall" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="left_ris" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="right_ris" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="right_outlet" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

  <Add_BC name="right_wall" > 
    <Type> Dir </Type> 
    <Time_dependence> Steady </Time_dependence>
    <Value> 0.0 </Value> 
  </Add_BC> 

</Add_equation>

</svMultiPhysicsFile>